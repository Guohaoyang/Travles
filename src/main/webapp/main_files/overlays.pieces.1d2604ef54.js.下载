define("@ta/overlays.pieces",["@ta/common.global"],function(e){return function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s="./packages/overlays/pieces/pieces.jsx")}({"./node_modules/react-dom/index.js":function(e,t,o){e.exports=o("dll-reference @ta/common.global")("./node_modules/react-dom/index.js")},"./node_modules/react-redux/es/index.js":function(e,t,o){e.exports=o("dll-reference @ta/common.global")("./node_modules/react-redux/es/index.js")},"./node_modules/react/index.js":function(e,t,o){e.exports=o("dll-reference @ta/common.global")("./node_modules/react/index.js")},"./packages/common/classnames/classnames.jsx":function(e,t,o){e.exports=o("dll-reference @ta/common.global")("./packages/common/classnames/classnames.jsx")},"./packages/overlays/pieces/Arrow.less":function(e,t,o){e.exports={arrow:"overlays-pieces-Arrow__arrow--2KuJT",inverted:"overlays-pieces-Arrow__inverted--urTBg",small:"overlays-pieces-Arrow__small--2fUHD",top:"overlays-pieces-Arrow__top--3Ek80",bottom:"overlays-pieces-Arrow__bottom--2xyEd",left:"overlays-pieces-Arrow__left--38SGM",right:"overlays-pieces-Arrow__right--1nmUM"}},"./packages/overlays/pieces/Backdrop.less":function(e,t,o){e.exports={backdrop:"overlays-pieces-Backdrop__backdrop--PFy6C"}},"./packages/overlays/pieces/CloseX.less":function(e,t,o){e.exports={close:"overlays-pieces-CloseX__close--3jowQ",inverted:"overlays-pieces-CloseX__inverted--3ADoB",taGreenDark:"overlays-pieces-CloseX__taGreenDark--2mAgF",seatGuruBlue:"overlays-pieces-CloseX__seatGuruBlue--3ksKB"}},"./packages/overlays/pieces/Overlay.less":function(e,t,o){e.exports={overlay:"overlays-pieces-Overlay__overlay--26DZt",background:"overlays-pieces-Overlay__background--3HIY1",tooltip:"overlays-pieces-Overlay__tooltip--1w0Da"}},"./packages/overlays/pieces/ShadowBox.less":function(e,t,o){e.exports={shadowBox:"overlays-pieces-ShadowBox__shadowBox--2dm_a",inverted:"overlays-pieces-ShadowBox__inverted--2Iwa8"}},"./packages/overlays/pieces/pieces.jsx":function(e,t,o){"use strict";o.r(t);var r=o("./node_modules/react/index.js"),n=o("./packages/common/classnames/classnames.jsx"),i=o.n(n),a=o("./packages/overlays/pieces/CloseX.less"),s=o.n(a),l=function(e){return r.createElement("div",{className:i()(s.a.close,function(e){switch(e){case"SEAT_GURU_BLUE":return s.a.seatGuruBlue;case"WHITE":return s.a.inverted;case"TA_GREEN_DARK":return s.a.taGreenDark;case"TA_GREEN":default:return""}}(e.colorVariant)),onClick:e.close,"data-test-attribute":e.testAttribute})};l.defaultProps={colorVariant:"TA_GREEN",testAttribute:null};var c=l,u=o("./packages/overlays/pieces/ShadowBox.less"),p=o.n(u),f=function(e){var t=e.inverted,o=e.children;return r.createElement("div",{className:"".concat(p.a.shadowBox).concat(t?" ".concat(p.a.inverted):"")},o)};f.defaultProps={inverted:!1};var d=f,y=o("./node_modules/react-dom/index.js"),v=o.n(y),m=r.createContext({parent:null,after:null,transitionStatus:"entered"}),h=m.Provider,b=m.Consumer,g=o("./packages/overlays/pieces/Overlay.less"),_=o.n(g);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}function O(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var B=function(e){function t(e){var o,r,n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,P(k(k(o=!(n=S(t).call(this,e))||"object"!==w(n)&&"function"!=typeof n?k(r):n)),"overlayNode",void 0),P(k(k(o)),"parentBody",void 0),P(k(k(o)),"stylePositionBeforeOpening",void 0),P(k(k(o)),"positionWasSet",void 0),document&&(o.parentBody=document.body,o.overlayNode=document.createElement("div"),o.props.id&&(o.overlayNode.id=o.props.id),e.perspective&&(o.overlayNode.style.perspective=e.perspective),o.positionWasSet=!1,o.setAnimatableStyles(),o.parentBody)){o.parentBody.style.position||(o.positionWasSet=!0,o.stylePositionBeforeOpening=o.parentBody.style.position,o.parentBody.style.position="relative");var i=o.props.after?document.getElementById(o.props.after):null,a=i?i.nextSibling:null;o.parentBody.insertBefore(o.overlayNode,a)}return o}var o,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,r["Component"]),o=t,(n=[{key:"componentWillUnmount",value:function(){this.parentBody&&(this.positionWasSet&&"relative"===this.parentBody.style.position&&(this.parentBody.style.position=this.stylePositionBeforeOpening),this.parentBody.removeChild(this.overlayNode))}},{key:"setAnimatableStyles",value:function(){var e=this;if(this.overlayNode&&this.parentBody){if(this.props.transitionProperties){var t=[];this.props.transitionProperties.forEach(function(e){var o=e.timingFunction?" ".concat(e.timingFunction):"",r=e.delay?" ".concat(e.delay,"ms"):"";t.push("".concat(e.property," ").concat(e.timing,"ms").concat(o).concat(r))}),t.length>0?this.overlayNode.style.transition=t.join(", "):this.overlayNode.style.transition=""}var o=[],r=this.props.position.position||"absolute";this.overlayNode.style.position=r;var n=this.parentBody.getBoundingClientRect(),i=window||{},a=i.pageXOffset,s=void 0===a?0:a,l=i.pageYOffset,c=void 0===l?0:l,u=n.top+c,p=n.left+s;["top","left","bottom","right"].forEach(function(t){var n=e.props.position[t];n?(e.overlayNode.style.setProperty(t,n),"absolute"===r&&("top"!==t&&"bottom"!==t||0===u?"left"!==t&&"right"!==t||0===p||o.push("translateX(".concat(-p,"px)")):o.push("translateY(".concat(-u,"px)")))):e.overlayNode.style.setProperty(t,"auto")}),this.props.position.transformOrigin&&(this.overlayNode.style.transformOrigin=this.props.position.transformOrigin),this.props.position.transform&&o.push(this.props.position.transform),this.overlayNode.style.transform=o.join(" "),this.props.position.maxHeight&&(this.overlayNode.style.maxHeight=this.props.position.maxHeight,this.overlayNode.style.overflowY="hidden"),this.props.position.height&&(this.overlayNode.style.height=this.props.position.height),this.props.position.width&&(this.overlayNode.style.width=this.props.position.width),void 0!==this.props.opacity&&(this.overlayNode.style.opacity=this.props.opacity)}}},{key:"render",value:function(){var e;return this.overlayNode&&this.parentBody?(this.overlayNode.className=i()(_.a.overlay,(P(e={},_.a.background,"background"===this.props.overlayType),P(e,_.a.tooltip,"tooltip"===this.props.overlayType),e)),this.setAnimatableStyles(),v.a.createPortal(this.props.children,this.overlayNode)):null}}])&&O(o.prototype,n),a&&O(o,a),t}();P(B,"defaultProps",{id:null,after:null,perspective:void 0,overlayType:"modal"});var T=function(e){return r.createElement(b,null,function(t){var o=t.parent,n=t.after;return r.createElement(B,x({},e,{id:o?"c_".concat(o):null,after:n?"c_".concat(n):null,overlayType:e.overlayType}))})};T.defaultProps={id:null,after:null,perspective:void 0,opacity:void 0,transitionProperties:[],overlayType:"modal"};var E=T;function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var Y=function(e){function t(){var e,o,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=this,n=(e=C(t)).call.apply(e,[this].concat(a)),M(F(F(o=!n||"object"!==N(n)&&"function"!=typeof n?F(r):n)),"state",{target:null}),M(F(F(o)),"setTarget",function(e){o.renderTimeTarget=e}),M(F(F(o)),"renderTimeTarget",null),o}var o,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,r["Component"]),o=t,(n=[{key:"componentDidMount",value:function(){this.setState({target:this.renderTimeTarget})}},{key:"render",value:function(){return this.props.children(this.setTarget,this.state.target)}}])&&A(o.prototype,n),i&&A(o,i),t}(),G=o("./packages/overlays/pieces/Backdrop.less"),H=o.n(G),W=function(e){var t=e.offsetTop?"absolute":"fixed";return r.createElement(E,{position:{position:t,top:"".concat(e.offsetTop||0,"px"),right:"0px",bottom:"0px",left:"0px"}},r.createElement("div",{className:H.a.backdrop,onClick:function(t){t.currentTarget===t.target&&e.close()}},e.children))};W.defaultProps={offsetTop:0};var R=W,X=o("./node_modules/react-redux/es/index.js");function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var J=function(e){function t(){var e,o,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=this,n=(e=K(t)).call.apply(e,[this].concat(a)),V(L(L(o=!n||"object"!==U(n)&&"function"!=typeof n?L(r):n)),"bugFix",function(e,r,n){1===t.currentlyMounted&&(t.originalScrollY=window.scrollY,t.originalPosition=e.position||"static",t.originalTop=e.top||"0px",t.originalWidth=e.width,t.originalDocumentHeight=r.height),e.position="fixed",t.originalScrollY&&(e.top="".concat(-1*t.originalScrollY,"px")),e.width="100%",r.height="100vh",n.contains("overlayiOS11bug")||n.add("overlayiOS11bug"),o.props.callback&&o.props.callback()}),V(L(L(o)),"timeout",void 0),o}var o,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,r["Component"]),o=t,(n=[{key:"componentDidMount",value:function(){var e=this;if(t.currentlyMounted+=1,document&&document.body&&document.body.style&&document.documentElement&&document.documentElement.style){var o=document.body.style,r=document.documentElement.style,n=document.body.classList;o.overflow="hidden",this.props.iOS11BugFix?null!=this.props.deferBugFix?this.timeout=setTimeout(function(){e.bugFix(o,r,n)},this.props.deferBugFix):this.bugFix(o,r,n):this.props.callback&&this.props.callback()}}},{key:"componentWillUnmount",value:function(){if(t.currentlyMounted-=1,0===t.currentlyMounted&&document&&document.body&&document.body.style&&document.documentElement&&document.documentElement.style){this.timeout&&clearTimeout(this.timeout);var e=document.documentElement.style,o=document.body.style;o.overflow="auto",this.props.iOS11BugFix&&(t.originalPosition&&(o.position=t.originalPosition),t.originalScrollY&&window.scrollTo(0,t.originalScrollY),null!=t.originalTop&&(o.top=t.originalTop),t.originalWidth&&(o.width=t.originalWidth),(t.originalDocumentHeight||""===t.originalDocumentHeight)&&(e.height=t.originalDocumentHeight)),this.props.callback&&this.props.callback()}}},{key:"render",value:function(){return null}}])&&I(o.prototype,n),i&&I(o,i),t}();V(J,"defaultProps",{callback:void 0}),V(J,"currentlyMounted",0),V(J,"originalScrollY",void 0),V(J,"originalPosition",void 0),V(J,"originalTop",void 0),V(J,"originalWidth",void 0),V(J,"originalDocumentHeight",void 0);var Q=Object(X.connect)(function(e,t){var o=t.iOS11BugFix;return{iOS11BugFix:void 0===o?"IOS"===e.meta.device.os.family:o}})(J),Z=o("./packages/overlays/pieces/Arrow.less"),q=o.n(Z);function $(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var ee=function(e){var t,o=e.on,n=e.from,i=e.offset,a=e.small,s=e.inverted,l="center"===n?($(t={},"top"===o||"bottom"===o?"left":"top","50%"),$(t,"transform","top"===o||"bottom"===o?"translate(-50%)":"translateY(-50%)"),t):$({},n,"".concat(i,"px")),c=[q.a.arrow,q.a[o],a?q.a.small:null,s?q.a.inverted:null].filter(function(e){return e}).join(" ");return r.createElement("div",{className:c,style:l})};ee.defaultProps={from:"center",offset:0,small:!1,inverted:!1};var te=ee;o.d(t,"CloseX",function(){return c}),o.d(t,"ShadowBox",function(){return d}),o.d(t,"Overlay",function(){return E}),o.d(t,"Target",function(){return Y}),o.d(t,"Backdrop",function(){return R}),o.d(t,"BlockScroll",function(){return Q}),o.d(t,"OverlayProvider",function(){return h}),o.d(t,"OverlayConsumer",function(){return b}),o.d(t,"Arrow",function(){return te}),o.d(t,"ArrowSize",function(){return 12}),o.d(t,"SmallArrowSize",function(){return 7})},"dll-reference @ta/common.global":function(t,o){t.exports=e}})});
//# sourceMappingURL=overlays.pieces.1d2604ef54.js.map